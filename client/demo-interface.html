<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reflectibot - New Interface Demo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: system-ui, -apple-system, sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%); }
    </style>
</head>
<body class="bg-zinc-900 text-white">
    <div class="flex h-screen">
        <!-- Sidebar -->
        <div class="w-20 bg-zinc-800 flex flex-col items-center py-6 space-y-4">
            <div class="p-3 rounded-lg bg-blue-600 text-white">üí¨</div>
            <div class="p-3 rounded-lg text-zinc-400 hover:text-white hover:bg-zinc-700">üîÅ</div>
            <div class="p-3 rounded-lg text-zinc-400 hover:text-white hover:bg-zinc-700">üìä</div>
            <div class="p-3 rounded-lg text-zinc-400 hover:text-white hover:bg-zinc-700">üìà</div>
            <div class="p-3 rounded-lg text-zinc-400 hover:text-white hover:bg-zinc-700">üé§</div>
            <div class="p-3 rounded-lg text-zinc-400 hover:text-white hover:bg-zinc-700">‚öôÔ∏è</div>
            
            <!-- Bot Stats -->
            <div class="mt-auto text-center text-xs">
                <div class="text-zinc-400">Level 5</div>
                <div class="text-zinc-500">Adult</div>
                <div class="text-zinc-500">289w</div>
            </div>
        </div>

        <!-- Main Chat Area -->
        <div class="flex-1 flex flex-col">
            <!-- Chat Messages -->
            <div class="flex-1 overflow-y-auto p-4 space-y-4 gradient-bg">
                <!-- User Message -->
                <div class="flex justify-end">
                    <div class="max-w-xs lg:max-w-md px-4 py-2 rounded-lg bg-blue-600 text-white">
                        <p>Hello, is it me you're looking for?</p>
                        <p class="text-xs opacity-70 mt-1">9:45 PM</p>
                    </div>
                </div>
                
                <!-- Bot Message -->
                <div class="flex justify-start">
                    <div class="max-w-xs lg:max-w-md px-4 py-2 rounded-lg bg-zinc-700 text-zinc-100">
                        <p>Hello Dan! Ah, Lionel Richie lyrics - nice choice! I can see you in my mind, and what a wonderful mind it is. How has your evening been treating you?</p>
                        <p class="text-xs opacity-70 mt-1">9:45 PM</p>
                    </div>
                </div>
            </div>

            <!-- NEW VOICE CONTROLS DEBUG PANEL -->
            <div class="p-3 bg-red-900/30 border border-red-500 rounded-lg m-4">
                <div class="text-sm text-red-200 mb-2">üîß Voice Debug Panel (Force Visible)</div>
                <div class="flex gap-2">
                    <button class="px-3 py-1 bg-purple-600 hover:bg-purple-700 rounded text-sm">
                        üîÑ Replay Last
                    </button>
                    <button class="px-3 py-1 bg-green-600 hover:bg-green-700 rounded text-sm">
                        üîä Enable Audio
                    </button>
                    <button class="px-3 py-1 bg-blue-600 hover:bg-blue-700 rounded text-sm">
                        üéµ Test Audio
                    </button>
                </div>
                <div class="text-xs text-gray-400 mt-1">
                    Audio: ON | Last Audio: Available
                </div>
            </div>

            <!-- Input Area with NEW REPLAY BUTTON -->
            <div class="p-4">
                <div class="flex items-center space-x-2">
                    <input type="text" placeholder="Type your message... (or press 'r' to record)" 
                           class="flex-1 p-3 rounded-full bg-zinc-700 border border-zinc-600 text-white placeholder-zinc-400">
                    
                    <!-- Voice Recording Button -->
                    <button class="p-3 rounded-full bg-zinc-600 hover:bg-zinc-500">
                        üé§
                    </button>
                    
                    <!-- NEW REPLAY BUTTON -->
                    <button class="p-3 rounded-full bg-purple-600 hover:bg-purple-700" title="Replay last response">
                        üîÑ
                    </button>
                    
                    <!-- Send Button -->
                    <button class="p-3 rounded-full bg-blue-600 hover:bg-blue-700">
                        ‚û§
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- REFLECTION SECTION DEMO -->
    <div style="display: none;" id="reflectionDemo" class="p-6 max-w-4xl mx-auto h-full flex flex-col">
        <div class="flex items-center justify-between mb-4">
            <h2 class="text-2xl font-bold">Weekly Reflection</h2>
            
            <!-- NEW VOICE CONTROLS FOR REFLECTION -->
            <div class="flex items-center gap-3">
                <select class="px-3 py-1 bg-zinc-700 border border-zinc-600 rounded text-sm text-white">
                    <optgroup label="Female Voices">
                        <option value="iCrDUkL56s3C8sCRl7wb">Hope</option>
                        <option value="FA6HhUjVmxBGQLlzA8WZ">Ophelia</option>
                        <option value="oWAxZDx7w5VEj9dCyTzz">Grace</option>
                        <option value="21m00Tcm4TlvDq8ikWAM">Rachel</option>
                    </optgroup>
                    <optgroup label="Male Voices">
                        <option value="pFZP5JQG7iQjIQuC4Bku">Brian</option>
                        <option value="ErXwobaYiN019PkySvjV">Antoni</option>
                        <option value="VR6AewLTigWG4xSOukaG">Arnold</option>
                    </optgroup>
                </select>
                
                <!-- NEW READ ALOUD BUTTON -->
                <button class="px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded text-sm font-medium">
                    üîä Read Aloud
                </button>
            </div>
        </div>
        
        <div class="bg-zinc-800 rounded-lg p-6 flex-1 overflow-y-auto">
            <div class="text-zinc-300">
                Dan, in our latest interaction, your honesty and light-heartedness continued to stand out, especially as we navigated persistent technical challenges...
            </div>
        </div>
    </div>

    <script>
        // Toggle between chat and reflection demo
        let showingReflection = false;
        
        document.addEventListener('keydown', function(e) {
            if (e.key === 'r') {
                showingReflection = !showingReflection;
                document.querySelector('.flex.h-screen').style.display = showingReflection ? 'none' : 'flex';
                document.getElementById('reflectionDemo').style.display = showingReflection ? 'flex' : 'none';
            }
        });
        
        // Add click handlers to demonstrate functionality
        document.querySelector('.bg-purple-600').addEventListener('click', function() {
            alert('Replay button clicked - would replay last bot response audio');
        });
        
        document.addEventListener('DOMContentLoaded', function() {
            // Show instructions
            setTimeout(function() {
                alert('DEMO: New Voice Features\n\n‚Ä¢ Purple replay button (üîÑ) next to send button\n‚Ä¢ Voice debug panel with audio controls\n‚Ä¢ Press "R" to see reflection section with voice selection\n‚Ä¢ Voice dropdown with 11 different voices\n‚Ä¢ Read Aloud button for reflections\n\nThis is what your interface should look like!');
            }, 1000);
        });
    </script>
</body>
</html>